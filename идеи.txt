--
// TODO Сделать возможность выбора времени занятия при создании только 00 или 30 минут
А что если делать занятие только на неделю
Что нужно изменить тогда
убрать дату из занятия и Оставить только день недели и время

1. Как тогда изменится запрос?
Клиент будет приходить и говорить: Дай мне все занятия, которые есть в день N

* Так же у нас будет работать го рутина, которая будет очищать записи на те занятия, которые прошли по времени.
2. Как это будет работать?
У нас будет так же слой сервиса, куда будет уходить запрос
Слой сервиса будет содержать как репозиторий, так и буфер с занятиями для быстрого доступа.

Когда пользователь просит отдать, ему расписание дня то мы идем в буфер, в нем будет, массив map[день недели][]*models.Lesson
и мы будем брать от туда

3. Так же у нас будет map[id занятия] *models.Lesson для того чтобы можно было менять данные у занятия(количество свободных мест)

4. Будем иметь map[trainerId] []*models.Lesson так мы будем содержать список занятий у каждого тренера

5. Будем содержать map[userId] []*models.lesson для того чтобы хранить записи пользователя
Если пользователь попытается записаться на занятие, время которого сегодня уже прошло. То ему выдаст сообщение что запись сегодня уже невозомна
А ели пользователь попытается записаться с заранее на неделю, то у него все получится

6. Как будет работать горутина по очистке записей.
- Сделаем таймер, который будет раз в пол часа, проходиться по списку занятий на сегодняшний день
// TODO Добавить список записанных пользователь на занятие в модельку
- Если есть занятие, время начало которого меньше текущего и больше времени текущее - пол часа,
 то мы берем список id, записанных на это занятие и отправляем его в метод -> удаление записей(там будет происхоть как и в userLesson-map, так и в бд)


7. Когда тренер будет создавать занятие то оно будет
- Добавляться в базу данных (отправлено в метод репозитория)
- Добавляться в буфер(в мапу расписания и мапу тренера)

8. Когда пользователь будет записываться на занятие, то изменения:
// TODO добавь в структуру занятия, количество записанных пользователей, в зависимости от этого будет рисоваться клиент
1. Смотрим, сколько пользователей уже записано на занятие(Длинна slice-а users). В бд больше не будем хранить is_complete.
2. Если длина == available seats, то возвращаем отвте, что уже полная записаь
- Будут записаны в бд
- Будет изменен буфер -> в соответсвующий метод передастся userId и lessonId,
затем мы получим указатель на структуру занятия, добавим его в список, а так же запишем изменения в общей мапе
8.1 Пользователь отписывется
- Результат помещен в бд
- В map пользователя идем, получаем ссыку на струткутру занятия. Удаляем из списка записанных, нашего пользователя.
Затем удаляем указатель из map пользователя


орая хранит расписание нам нужно где-то хранить